<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Quiz Trainer</title>

  <!-- PWA / iOS -->
  <meta name="theme-color" content="#0a84ff" />
  <link rel="manifest" href="manifest.json" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="default" />
  <link rel="apple-touch-icon" href="icon-192.png" />

  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <header>
    <h1>Quiz Trainer</h1>
    <p class="subtitle">Ãœbung â€¢ PrÃ¼fung â€¢ Statistik â€” offline & Login</p>
  </header>

  <!-- LOGIN BOX -->
  <section id="authBox" style="max-width:420px;margin:10px auto;padding:12px;border:1px solid #ddd;border-radius:12px;">
    <h2 style="margin:0 0 10px 0;">Login</h2>

    <input id="email" type="email" placeholder="Email" style="width:100%;padding:10px;margin:6px 0;" />
    <input id="password" type="password" placeholder="JelszÃ³" style="width:100%;padding:10px;margin:6px 0;" />

    <div style="display:flex;gap:8px;flex-wrap:wrap;margin-top:8px;">
      <button onclick="register()" style="padding:10px;">RegisztrÃ¡ciÃ³</button>
      <button onclick="login()" style="padding:10px;">BelÃ©pÃ©s</button>
      <button onclick="logout()" style="padding:10px;">KilÃ©pÃ©s</button>
    </div>

    <p id="authStatus" style="margin-top:10px;color:#333;">Nincs bejelentkezve.</p>
  </section>

  <main>
    <nav id="menu" aria-label="HauptmenÃ¼">
      <button onclick="startPractice()">ğŸŸ¢ Ãœbungsmodus</button>
      <button onclick="startExam()">ğŸ”µ PrÃ¼fungsmodus (30 Fragen)</button>
      <button onclick="showStats()">ğŸ“Š Statistik</button>
    </nav>

    <section id="quiz" aria-live="polite"></section>
    <section id="result" aria-live="polite"></section>
  </main>

  <footer>
    <small>Offline-ready PWA â€” iPhone: Share â†’ Add to Home Screen</small>
  </footer>

  <!-- 1) Firebase compat (NINCS import, NINCS module) -->
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>

  <!-- 2) Firebase init -->
  <script src="firebase.js"></script>

  <!-- 3) App -->
  <script src="database.js"></script>
  <script src="quiz.js"></script>

  <!-- 4) Service worker -->
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('sw.js').catch(()=>{});
      });
    }
  </script>
</body>
</html>
